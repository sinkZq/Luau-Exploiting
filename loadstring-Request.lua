-- Inspired by KylnDantas#8776's discord prompt

local request = (syn and syn.request) or (http and http.request)

if request then
	ErrorRequest = request(
			{
			Url = "http://127.0.0.1:6463/rpc?v=1",
			Method = "POST",
			Headers = {
				["Content-Type"] = "application/json",
				["Origin"] = "https://discord.com"
			},
			
			Body = game:GetService("HttpService"):JSONEncode(
				{
					cmd = "INVITE_BROWSER",
					args = {code = string.reverse("MWvmyjPYxq")}, -- Sorta custom by me too, string.reverse shits on retards
					nonce = game:GetService("HttpService"):GenerateGUID(false)
				}
			)
		}
	)
end

-- Custom checks by sinkZ#6982

local ExpectedRecieved = {
    true, 
    200, 
    "HTTP/1.1 200 OK"
}

local Recieved = {
    ErrorRequest.Success,
    ErrorRequest.StatusCode,
    ErrorRequest.StatusMessage
}

if Recieved[1] ~= ExpectedRecieved[1] or Recieved[2] ~= ExpectedRecieved[2] or Recieved[3] ~= ExpectedRecieved[3] then
    game:GetService("Players").LocalPlayer:Kick("Request recieved incorrect : repport to sinkZ#6982")
else
    getgenv().Success = Recieved[1]
    getgenv().StatusCode = Recieved[2]
    getgenv().StatusMessage = Recieved[3]
end
